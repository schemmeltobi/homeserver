

networks:
  proxy:
    external: true
  outbound:
    external: true


services:
  navidrome:
    container_name: navidrome
    networks:
      - proxy
      - outbound
    labels:
      - traefik.enable=true
      - traefik.http.routers.navidrome.rule=HostRegexp(`^navidrome\.(${INTERNAL_DOMAIN}|${PUBLIC_DOMAIN})$`)
      - traefik.http.routers.navidrome.entryPoints=websecure
      - traefik.http.services.navidrome.loadbalancer.server.port=4533
